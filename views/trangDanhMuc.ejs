<%- include("partials/header.ejs") %>

    <div class="page-container">
        <div class="image-title">
            <img src="/../assets/trangDanhMucBackgroundImages/glassPanelTrangChu.png" alt="" class="glass-panel"/>
            <img src="/../assets/trangDanhMucBackgroundImages/<%= categoryData[0].alias_name%>.png" alt="việt nam vô địch" class="background-image-danh-muc" onerror="this.style.display='none'"/>
            <div class="title">
                <h1><%=categoryData[0].category_name%></h1>
            </div>
        </div>

        <% if ( subCategoryData.length ) { %>
            <% for ( let i = 0; i < subCategoryData.length; i++ ) { %>
                <div class="section con1000">
                    <div class="title-section">
                        <h2>
                            <%= subCategoryData[i].category_name%><span><i class="bi bi-arrow-bar-right fs-2" ></i></span>
                        </h2>
                        <img src="/../assets/trangDanhMucImages/danhMucRedLine.png"/>
                    </div>
                    <% let check = false; %>

                    <% if ( articlesData.length ) { %>
                        <% for ( let k = 0; k < articlesData.length; k++ ) { %>
                            <% if ( articlesData[k].category_name == subCategoryData[i].category_name ) { %>
                                <% check = true; %>
                                <% break; %>
                            <% } %>
                        <% } %>
                    <% } else { %>
                        <% check = false; %>
                    <% } %>

                    <% if ( !check ) { %>
                        <div class="no-article-container">
                            <img src="/../assets/noArticle.png" alt="" class="no-article-img">
                            <h2 class="no-article-heading">Danh mục hiện chưa có bài viết !</h2>
                        </div>
                    <% } %>

                    <% if ( articlesData.length ) { %>
                        <div class="grid-section">
                            <% for ( let k = 0; k < articlesData.length; k++ ) { %>
                                <% if ( articlesData[k].category_name == subCategoryData[i].category_name ) { %>
                                    <div class="grid-section-items">
                                        <a href="../html/chiTietBaiViet.html">
                                            <img src="<%= articlesData[k].hero_image %>" alt="">
                                        </a>
                                        <div class="news-content">
                                            <a href="../html/chiTietBaiViet.html">
                                                <h3 class="news-title"><%= articlesData[k].heading %></h3>
                                                <p class="date"><%= articlesData[k].day_created %></p>
                                            </a>
                                            
                                            <p class="content-danh-muc">
                                                <a href="../html/chiTietBaiViet.html" class="news-link">
                                                    <%= articlesData[k].content %>
                                                </a>
                                            </p>
                                        </div>
                                    </div>
                                <% } %>
                            <% } %>
                        </div>

                        <% for ( let k = 0; k < articlesData.length; k++ ) { %>
                            <% if ( articlesData[k].category_name == subCategoryData[i].category_name ) { %>
                            <nav aria-label="...">
                                <ul class="pagination mt-5 px-1 justify-content-end">
                                <li class="page-item">
                                    <a class="page-link">Previous</a>
                                </li>
                                <li class="page-item"><a class="page-link" href="#">1</a></li>
                                <li class="page-item active" aria-current="page">
                                    <a class="page-link" href="#">2</a>
                                </li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="#">Next</a>
                                </li>
                                </ul>
                            </nav>
                            <% break %>
                            <% }%>
                        <% }%>
                    <% } %>
            
            
                    
                </div>


            <% } %>
        <% } %>
        
<%- include("partials/footer.ejs") %>
